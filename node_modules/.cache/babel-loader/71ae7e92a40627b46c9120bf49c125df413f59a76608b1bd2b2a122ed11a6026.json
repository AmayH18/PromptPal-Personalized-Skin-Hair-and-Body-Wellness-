{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AMAY\\\\promptpal\\\\src\\\\pages\\\\PromptPal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PromptPal() {\n  _s();\n  var _result$accuracyScore;\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"promptpal_token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    const generateAdvice = async () => {\n      try {\n        const res = await API.post(\"/api/wellness/generate\", payload, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"promptpal_token\")}`\n          }\n        });\n        setResult(res.data);\n      } catch (err) {\n        console.error(\"AI generation failed:\", err);\n        setError(\"Failed to generate AI advice. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    generateAdvice();\n  }, [navigate]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center text-xl font-semibold\",\n      children: \"\\uD83E\\uDDE0 Generating your personalized wellness advice...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center text-red-600\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-10 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold text-center text-indigo-700 mb-4\",\n        children: \"PromptPal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-600 mb-8\",\n        children: \"AI-powered personalized wellness guidance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full font-semibold\",\n          children: [\"AI Confidence: \", (_result$accuracyScore = result.accuracyScore) === null || _result$accuracyScore === void 0 ? void 0 : _result$accuracyScore.toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Skin Care\",\n        content: extractSection(result.aiResponse, \"Skin Care\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Hair Care\",\n        content: extractSection(result.aiResponse, \"Hair Care\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Body & Fitness\",\n        content: extractSection(result.aiResponse, \"Body & Fitness\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/profile\"),\n          className: \"bg-gray-700 text-white px-6 py-2 rounded-lg hover:bg-gray-800\",\n          children: \"Back to Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===================== Helper Components ===================== */\n_s(PromptPal, \"CUkHllG8kiFIAM5Zi4ENZagMFXc=\", false, function () {\n  return [useNavigate];\n});\n_c = PromptPal;\nfunction Section({\n  title,\n  content\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold text-indigo-600 mb-3\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-700 whitespace-pre-line\",\n      children: content || \"No recommendations available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===================== Section Extractor ===================== */\n_c2 = Section;\nfunction extractSection(text, section) {\n  if (!text) return \"\";\n  const start = text.indexOf(section);\n  if (start === -1) return \"\";\n  const sliced = text.slice(start + section.length);\n  const end = sliced.indexOf(\"Skin Care\") !== -1 || sliced.indexOf(\"Hair Care\") !== -1 || sliced.indexOf(\"Body & Fitness\") !== -1 ? sliced.search(/Skin Care|Hair Care|Body & Fitness/) : sliced.length;\n  return sliced.slice(0, end).trim();\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"PromptPal\");\n$RefreshReg$(_c2, \"Section\");","map":{"version":3,"names":["React","useEffect","useState","API","useNavigate","jsxDEV","_jsxDEV","PromptPal","_s","_result$accuracyScore","result","setResult","loading","setLoading","error","setError","navigate","token","localStorage","getItem","generateAdvice","res","post","payload","headers","Authorization","data","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accuracyScore","toFixed","Section","title","content","extractSection","aiResponse","onClick","_c","_c2","text","section","start","indexOf","sliced","slice","length","end","search","trim","$RefreshReg$"],"sources":["C:/Users/AMAY/promptpal/src/pages/PromptPal.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function PromptPal() {\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"promptpal_token\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const generateAdvice = async () => {\r\n      try {\r\n        const res = await API.post(\r\n  \"/api/wellness/generate\",\r\n  payload,\r\n  {\r\n    headers: {\r\n      Authorization: `Bearer ${localStorage.getItem(\"promptpal_token\")}`\r\n    }\r\n  }\r\n);\r\n\r\n\r\n        setResult(res.data);\r\n      } catch (err) {\r\n        console.error(\"AI generation failed:\", err);\r\n        setError(\"Failed to generate AI advice. Please try again.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    generateAdvice();\r\n  }, [navigate]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center text-xl font-semibold\">\r\n        ðŸ§  Generating your personalized wellness advice...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center text-red-600\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-10 px-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n\r\n        <h1 className=\"text-4xl font-bold text-center text-indigo-700 mb-4\">\r\n          PromptPal\r\n        </h1>\r\n\r\n        <p className=\"text-center text-gray-600 mb-8\">\r\n          AI-powered personalized wellness guidance\r\n        </p>\r\n\r\n        {/* AI Confidence */}\r\n        <div className=\"text-center mb-6\">\r\n          <span className=\"inline-block bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full font-semibold\">\r\n            AI Confidence: {result.accuracyScore?.toFixed(1)}%\r\n          </span>\r\n        </div>\r\n\r\n        {/* Sections */}\r\n        <Section\r\n          title=\"Skin Care\"\r\n          content={extractSection(result.aiResponse, \"Skin Care\")}\r\n        />\r\n\r\n        <Section\r\n          title=\"Hair Care\"\r\n          content={extractSection(result.aiResponse, \"Hair Care\")}\r\n        />\r\n\r\n        <Section\r\n          title=\"Body & Fitness\"\r\n          content={extractSection(result.aiResponse, \"Body & Fitness\")}\r\n        />\r\n\r\n        {/* Back Button */}\r\n        <div className=\"text-center mt-8\">\r\n          <button\r\n            onClick={() => navigate(\"/profile\")}\r\n            className=\"bg-gray-700 text-white px-6 py-2 rounded-lg hover:bg-gray-800\"\r\n          >\r\n            Back to Profile\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Helper Components ===================== */\r\n\r\nfunction Section({ title, content }) {\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200\">\r\n      <h2 className=\"text-2xl font-semibold text-indigo-600 mb-3\">\r\n        {title}\r\n      </h2>\r\n      <p className=\"text-gray-700 whitespace-pre-line\">\r\n        {content || \"No recommendations available.\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Section Extractor ===================== */\r\n\r\nfunction extractSection(text, section) {\r\n  if (!text) return \"\";\r\n\r\n  const start = text.indexOf(section);\r\n  if (start === -1) return \"\";\r\n\r\n  const sliced = text.slice(start + section.length);\r\n  const end =\r\n    sliced.indexOf(\"Skin Care\") !== -1 ||\r\n    sliced.indexOf(\"Hair Care\") !== -1 ||\r\n    sliced.indexOf(\"Body & Fitness\") !== -1\r\n      ? sliced.search(/Skin Care|Hair Care|Body & Fitness/)\r\n      : sliced.length;\r\n\r\n  return sliced.slice(0, end).trim();\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}