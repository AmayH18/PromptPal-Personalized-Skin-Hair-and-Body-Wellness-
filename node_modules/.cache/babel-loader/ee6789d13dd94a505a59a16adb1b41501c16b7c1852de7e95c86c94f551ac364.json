{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AMAY\\\\promptpal\\\\src\\\\pages\\\\PromptPal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../api\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PromptPal() {\n  _s();\n  var _result$accuracy;\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  // âœ… Define selections (default: all true)\n  const [skin] = useState(true);\n  const [hair] = useState(true);\n  const [body] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"promptpal_token\");\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    const generateAdvice = async () => {\n      try {\n        setError(\"\");\n\n        // âœ… Payload defined correctly\n        const payload = {\n          skin,\n          hair,\n          body\n        };\n        const res = await API.post(\"/api/wellness/generate\", payload);\n        setResult(res.data);\n      } catch (err) {\n        console.error(\"AI generation failed:\", err);\n        setError(\"Failed to generate AI advice. Please try again.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    generateAdvice();\n  }, [navigate, skin, hair, body]);\n\n  /* ===================== UI STATES ===================== */\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center text-xl font-semibold\",\n      children: \"\\uD83E\\uDDE0 Generating your personalized wellness advice...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center text-red-600\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n  if (!result) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-10 px-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-bold text-center text-indigo-700 mb-4\",\n        children: \"PromptPal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-gray-600 mb-8\",\n        children: \"AI-powered personalized wellness guidance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"inline-block bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full font-semibold\",\n          children: [\"AI Confidence: \", (_result$accuracy = result.accuracy) === null || _result$accuracy === void 0 ? void 0 : _result$accuracy.toFixed(1), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Skin Care\",\n        content: extractSection(result.advice, \"Skin Care\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Hair Care\",\n        content: extractSection(result.advice, \"Hair Care\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Section, {\n        title: \"Body & Fitness\",\n        content: extractSection(result.advice, \"Body & Fitness\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/profile\"),\n          className: \"bg-gray-700 text-white px-6 py-2 rounded-lg hover:bg-gray-800\",\n          children: \"Back to Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===================== Helper Components ===================== */\n_s(PromptPal, \"Vv3bALefQCNzHAWCZxDw6NYWB8c=\", false, function () {\n  return [useNavigate];\n});\n_c = PromptPal;\nfunction Section({\n  title,\n  content\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold text-indigo-600 mb-3\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-700 whitespace-pre-line\",\n      children: content || \"No recommendations available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n\n/* ===================== Section Extractor ===================== */\n_c2 = Section;\nfunction extractSection(text, section) {\n  if (!text) return \"\";\n  const regex = new RegExp(`${section}[\\\\s\\\\S]*?(?=Skin Care|Hair Care|Body & Fitness|$)`, \"i\");\n  const match = text.match(regex);\n  return match ? match[0].replace(section, \"\").trim() : \"\";\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"PromptPal\");\n$RefreshReg$(_c2, \"Section\");","map":{"version":3,"names":["React","useEffect","useState","API","useNavigate","jsxDEV","_jsxDEV","PromptPal","_s","_result$accuracy","result","setResult","loading","setLoading","error","setError","skin","hair","body","navigate","token","localStorage","getItem","generateAdvice","payload","res","post","data","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accuracy","toFixed","Section","title","content","extractSection","advice","onClick","_c","_c2","text","section","regex","RegExp","match","replace","trim","$RefreshReg$"],"sources":["C:/Users/AMAY/promptpal/src/pages/PromptPal.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function PromptPal() {\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // âœ… Define selections (default: all true)\r\n  const [skin] = useState(true);\r\n  const [hair] = useState(true);\r\n  const [body] = useState(true);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"promptpal_token\");\r\n\r\n    if (!token) {\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    const generateAdvice = async () => {\r\n      try {\r\n        setError(\"\");\r\n\r\n        // âœ… Payload defined correctly\r\n        const payload = {\r\n          skin,\r\n          hair,\r\n          body,\r\n        };\r\n\r\n        const res = await API.post(\r\n          \"/api/wellness/generate\",\r\n          payload\r\n        );\r\n\r\n        setResult(res.data);\r\n      } catch (err) {\r\n        console.error(\"AI generation failed:\", err);\r\n        setError(\"Failed to generate AI advice. Please try again.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    generateAdvice();\r\n  }, [navigate, skin, hair, body]);\r\n\r\n  /* ===================== UI STATES ===================== */\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center text-xl font-semibold\">\r\n        ðŸ§  Generating your personalized wellness advice...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center text-red-600\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!result) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-10 px-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n\r\n        <h1 className=\"text-4xl font-bold text-center text-indigo-700 mb-4\">\r\n          PromptPal\r\n        </h1>\r\n\r\n        <p className=\"text-center text-gray-600 mb-8\">\r\n          AI-powered personalized wellness guidance\r\n        </p>\r\n\r\n        {/* Accuracy */}\r\n        <div className=\"text-center mb-6\">\r\n          <span className=\"inline-block bg-indigo-100 text-indigo-800 px-4 py-2 rounded-full font-semibold\">\r\n            AI Confidence: {result.accuracy?.toFixed(1)}%\r\n          </span>\r\n        </div>\r\n\r\n        <Section\r\n          title=\"Skin Care\"\r\n          content={extractSection(result.advice, \"Skin Care\")}\r\n        />\r\n\r\n        <Section\r\n          title=\"Hair Care\"\r\n          content={extractSection(result.advice, \"Hair Care\")}\r\n        />\r\n\r\n        <Section\r\n          title=\"Body & Fitness\"\r\n          content={extractSection(result.advice, \"Body & Fitness\")}\r\n        />\r\n\r\n        <div className=\"text-center mt-8\">\r\n          <button\r\n            onClick={() => navigate(\"/profile\")}\r\n            className=\"bg-gray-700 text-white px-6 py-2 rounded-lg hover:bg-gray-800\"\r\n          >\r\n            Back to Profile\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Helper Components ===================== */\r\n\r\nfunction Section({ title, content }) {\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-200\">\r\n      <h2 className=\"text-2xl font-semibold text-indigo-600 mb-3\">\r\n        {title}\r\n      </h2>\r\n      <p className=\"text-gray-700 whitespace-pre-line\">\r\n        {content || \"No recommendations available.\"}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ===================== Section Extractor ===================== */\r\n\r\nfunction extractSection(text, section) {\r\n  if (!text) return \"\";\r\n\r\n  const regex = new RegExp(`${section}[\\\\s\\\\S]*?(?=Skin Care|Hair Care|Body & Fitness|$)`, \"i\");\r\n  const match = text.match(regex);\r\n\r\n  return match ? match[0].replace(section, \"\").trim() : \"\";\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}